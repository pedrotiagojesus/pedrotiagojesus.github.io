import{j as e}from"./query-vendor-BeeGOU4t.js";import{c as j,A as f,u as y,v as c,e as x}from"./index-8cQuODJL.js";import{B as S}from"./Block-CvUtEcVN.js";import{S as v}from"./Seo-DV871WEO.js";import{u as w}from"./useContents-Ei_mNmMz.js";import{r as o}from"./react-vendor-DFqr2pKF.js";const C=async n=>(await j.post(f.EMAIL,n)).data,P=()=>{var h;const{showToast:n}=y(),s={title:c("pages.contact.title"),summary:c("pages.contact.summary"),name:c("pages.contact.name"),email:c("pages.contact.email"),message:c("pages.contact.message"),send:c("pages.contact.send"),messageSuccess:c("pages.contact.messageSuccess"),messageError:c("pages.contact.messageError")},{data:m}=w(["seo"]),r=(h=m==null?void 0:m.seo)==null?void 0:h.contact,[i,l]=o.useState(""),[u,p]=o.useState(""),[d,g]=o.useState("");o.useEffect(()=>{const t="recaptcha-script";if(!document.getElementById(t)){const a=document.createElement("script");a.id=t,a.src=`https://www.google.com/recaptcha/api.js?render=${x.VITE_GOOGLE_RECAPTCHA_SITE_KEY}`,a.async=!0,a.defer=!0,a.onload=()=>console.log("reCAPTCHA carregado"),document.body.appendChild(a)}},[]);const E=async t=>{if(t.preventDefault(),!window.grecaptcha){n(s.messageSuccess,"success");return}const a=await window.grecaptcha.execute(x.VITE_GOOGLE_RECAPTCHA_SITE_KEY,{action:"contact"});try{await C({name:i,email:u,message:d,recaptchaToken:a}),n(s.messageSuccess,"success"),l(""),p(""),g("")}catch{n(s.messageError,"error")}};return e.jsxs(e.Fragment,{children:[e.jsx(v,{title:r==null?void 0:r.title,description:r==null?void 0:r.description}),e.jsxs("section",{id:"contact-content",children:[e.jsx("h1",{className:"page-title",children:s.title}),e.jsx("p",{className:"page-summary",children:s.summary}),e.jsxs("form",{className:"contact-form",method:"POST",id:"contact-form",onSubmit:E,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"name",children:s.name}),e.jsx("input",{type:"text",id:"name",name:"name",onChange:t=>l(t.target.value),value:i,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:s.email}),e.jsx("input",{type:"email",id:"email",name:"email",onChange:t=>p(t.target.value),value:u,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"message",children:s.message}),e.jsx("textarea",{id:"message",name:"message",rows:8,onChange:t=>g(t.target.value),value:d,required:!0})]}),e.jsx("button",{className:"btn btn-primary",type:"submit",children:s.send})]})]}),e.jsx(S,{})]})};export{P as default};
